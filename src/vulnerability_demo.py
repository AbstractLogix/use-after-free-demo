# vulnerability_demo.py
import logging
from cffi_loader import demonstrate_vulnerability

# Configure logging
logging.basicConfig(
    level=logging.INFO, format="%(asctime)s - %(levelname)s - %(message)s"
)


def run_vulnerability_demo():
    """
    Executes the demonstration of the use-after-free vulnerability.
    """
    logging.info("Starting Use-After-Free Vulnerability Demonstration...")
    try:
        demonstrate_vulnerability()
        logging.info(
            "Vulnerability demonstration complete. Observe the behavior above."
        )
        # TODO Placeholder for result analysis/reporting
        # analyze_results()
    except Exception as e:
        logging.error(f"An error occurred during the demonstration: {e}")


if __name__ == "__main__":
    run_vulnerability_demo()
